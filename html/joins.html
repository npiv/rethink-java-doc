

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Joins &mdash; rethink-java-driver 0.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="rethink-java-driver 0.1 documentation" href="index.html"/>
        <link rel="next" title="Transformations" href="transformations.html"/>
        <link rel="prev" title="Selecting Data" href="selecting_data.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> rethink-java-driver</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="notes.html">Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="notes.html#java-8-or-previous">Java 8 or Previous</a></li>
<li class="toctree-l2"><a class="reference internal" href="notes.html#milestones">Milestones</a></li>
<li class="toctree-l2"><a class="reference internal" href="notes.html#contribute">Contribute</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="accessing_reql.html">Accessing REQL</a><ul>
<li class="toctree-l2"><a class="reference internal" href="accessing_reql.html#r">r</a></li>
<li class="toctree-l2"><a class="reference internal" href="accessing_reql.html#connect">connect</a></li>
<li class="toctree-l2"><a class="reference internal" href="accessing_reql.html#close">close</a></li>
<li class="toctree-l2"><a class="reference internal" href="accessing_reql.html#reconnect">reconnect</a></li>
<li class="toctree-l2"><a class="reference internal" href="accessing_reql.html#use">use</a></li>
<li class="toctree-l2"><a class="reference internal" href="accessing_reql.html#run">run</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manipulating_databases.html">Manipulating Databases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manipulating_databases.html#dbcreate">dbCreate</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_databases.html#dbdrop">dbDrop</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_databases.html#dblist">dbList</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manipulating_tables.html">Manipulating Tables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manipulating_tables.html#tablecreate">tableCreate</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_tables.html#tabledrop">tableDrop</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_tables.html#tablelist">tableList</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_tables.html#indexcreate">indexCreate</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_tables.html#indexdrop">indexDrop</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_tables.html#indexlist">indexList</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_tables.html#indexstatus">indexStatus</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_tables.html#indexwait">indexWait</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="writing_data.html">Writing Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="writing_data.html#insert">insert</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_data.html#update">update</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_data.html#replace">replace</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_data.html#delete">delete</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_data.html#sync">sync</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="selecting_data.html">Selecting Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="selecting_data.html#db">db</a></li>
<li class="toctree-l2"><a class="reference internal" href="selecting_data.html#table">table</a></li>
<li class="toctree-l2"><a class="reference internal" href="selecting_data.html#get">get</a></li>
<li class="toctree-l2"><a class="reference internal" href="selecting_data.html#getall">getAll</a></li>
<li class="toctree-l2"><a class="reference internal" href="selecting_data.html#filter">filter</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Joins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#innerjoin">innerJoin</a></li>
<li class="toctree-l2"><a class="reference internal" href="#outerjoin">outerJoin</a></li>
<li class="toctree-l2"><a class="reference internal" href="#eqjoin">eqJoin</a></li>
<li class="toctree-l2"><a class="reference internal" href="#zip">zip</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="transformations.html">Transformations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#map">map</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#withfields">withFields</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#concatmap">concatMap</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#orderby">orderBy</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#skip">Skip</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#limit">limit</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#indexesof">IndexesOf</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#isempty">isEmpty</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#union">Union</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#sample">Sample</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="aggregation.html">Aggregation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="aggregation.html#group">group</a></li>
<li class="toctree-l2"><a class="reference internal" href="aggregation.html#ungroup">ungroup</a></li>
<li class="toctree-l2"><a class="reference internal" href="aggregation.html#reduce">reduce</a></li>
<li class="toctree-l2"><a class="reference internal" href="aggregation.html#count">count</a></li>
<li class="toctree-l2"><a class="reference internal" href="aggregation.html#sum">sum</a></li>
<li class="toctree-l2"><a class="reference internal" href="aggregation.html#avg">avg</a></li>
<li class="toctree-l2"><a class="reference internal" href="aggregation.html#min">min</a></li>
<li class="toctree-l2"><a class="reference internal" href="aggregation.html#max">max</a></li>
<li class="toctree-l2"><a class="reference internal" href="aggregation.html#distinct">distinct</a></li>
<li class="toctree-l2"><a class="reference internal" href="aggregation.html#contains">contains</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="document_manipulation.html">Document Manipulation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#row">row</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#pluck">pluck</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#without">without</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#merge">merge</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#append">append</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#prepend">prepend</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#difference">difference</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#setinsert">setInsert</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#setunion">setUnion</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#setintersection">setIntersection</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#setdifference">setDifference</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#field">field</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#hasfields">hasFields</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#insertat">insertAt</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#spliceat">spliceAt</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#deleteat">deleteAt</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#change">change</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_manipulation.html#keys">keys</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="string_manipulation.html">String Manipulation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="string_manipulation.html#match">match</a></li>
<li class="toctree-l2"><a class="reference internal" href="string_manipulation.html#split">split</a></li>
<li class="toctree-l2"><a class="reference internal" href="string_manipulation.html#upcase">upcase</a></li>
<li class="toctree-l2"><a class="reference internal" href="string_manipulation.html#downcase">downcase</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="math_logic.html">Math And Logic</a><ul>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#add">add</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#sub">sub</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#mul">mul</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#div">div</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#mod">mod</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#and">and</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#or">or</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#eq">eq</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#ne">ne</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#gt">gt</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#ge">ge</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#lt">lt</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#le">le</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#not">not</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dates_times.html">Dates and Times</a></li>
<li class="toctree-l1"><a class="reference internal" href="control_structures.html">Control Structures</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">rethink-java-driver</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Joins</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/joins.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="joins">
<h1>Joins<a class="headerlink" href="#joins" title="Permalink to this headline">¶</a></h1>
<div class="section" id="innerjoin">
<h2>innerJoin<a class="headerlink" href="#innerjoin" title="Permalink to this headline">¶</a></h2>
<p>Returns the inner product of two sequences (e.g. a table, a filter result) filtered by the predicate. The query compares each row of the left sequence with each row of the right sequence to find all pairs of rows which satisfy the predicate. When the predicate is satisfied, each matched pair of rows of both sequences are combined into a result row.</p>
<p>Example: Construct a sequence of documents containing all cross-universe matchups where a marvel hero would lose.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">List</span><span class="o">&lt;</span><span class="n">JoinResult</span><span class="o">&gt;</span> <span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="na">table</span><span class="o">(</span><span class="s">&quot;marvel&quot;</span><span class="o">).</span><span class="na">inner_join</span><span class="o">(</span><span class="n">r</span><span class="o">.</span><span class="na">table</span><span class="o">(</span><span class="s">&quot;dc&quot;</span><span class="o">),</span>
   <span class="o">(</span><span class="n">marvelRow</span><span class="o">,</span> <span class="n">dcRow</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">marvelRow</span><span class="o">.</span><span class="na">field</span><span class="o">(</span><span class="s">&quot;strength&quot;</span><span class="o">).</span><span class="na">lt</span><span class="o">(</span><span class="n">dcRow</span><span class="o">.</span><span class="na">field</span><span class="o">(</span><span class="s">&quot;strength&quot;</span><span class="o">))</span>
<span class="o">).</span><span class="na">run</span><span class="o">(</span><span class="n">con</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="outerjoin">
<h2>outerJoin<a class="headerlink" href="#outerjoin" title="Permalink to this headline">¶</a></h2>
<p>Computes a left outer join by retaining each row in the left table even if no match was found in the right table.</p>
<p>Example: Construct a sequence of documents containing all cross-universe matchups where a marvel hero would lose, but keep marvel heroes who would never lose a matchup in the sequence.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">List</span><span class="o">&lt;</span><span class="n">JoinResult</span><span class="o">&gt;</span> <span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="na">table</span><span class="o">(</span><span class="s">&quot;marvel&quot;</span><span class="o">).</span><span class="na">outerJoin</span><span class="o">(</span><span class="n">r</span><span class="o">.</span><span class="na">table</span><span class="o">(</span><span class="s">&quot;dc&quot;</span><span class="o">),</span>
   <span class="o">(</span><span class="n">marvelRow</span><span class="o">,</span> <span class="n">dcRow</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">marvelRow</span><span class="o">.</span><span class="na">field</span><span class="o">(</span><span class="s">&quot;strength&quot;</span><span class="o">).</span><span class="na">lt</span><span class="o">(</span><span class="n">dcRow</span><span class="o">.</span><span class="na">field</span><span class="o">(</span><span class="s">&quot;strength&quot;</span><span class="o">))</span>
<span class="o">).</span><span class="na">run</span><span class="o">(</span><span class="n">con</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="eqjoin">
<h2>eqJoin<a class="headerlink" href="#eqjoin" title="Permalink to this headline">¶</a></h2>
<p>An efficient join that looks up elements in the right table by primary key.</p>
<p>Example: Let our heroes join forces to battle evil!</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">List</span><span class="o">&lt;</span><span class="n">JoinResult</span><span class="o">&gt;</span> <span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="na">table</span><span class="o">(</span><span class="s">&quot;marvel&quot;</span><span class="o">).</span><span class="na">eqJoin</span><span class="o">(</span>
   <span class="s">&quot;main_dc_collaborator&quot;</span><span class="o">,</span> <span class="n">r</span><span class="o">.</span><span class="na">table</span><span class="o">(</span><span class="s">&quot;dc&quot;</span><span class="o">)</span>
<span class="o">).</span><span class="na">run</span><span class="o">(</span><span class="n">con</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="zip">
<h2>zip<a class="headerlink" href="#zip" title="Permalink to this headline">¶</a></h2>
<p>Used to &#8216;zip&#8217; up the result of a join by merging the &#8216;right&#8217; fields into &#8216;left&#8217; fields of each member of the sequence.</p>
<p>Example: &#8216;zips up&#8217; the sequence by merging the left and right fields produced by a join.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span><span class="n">Object</span><span class="o">&gt;&gt;</span> <span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="na">table</span><span class="o">(</span><span class="s">&quot;marvel&quot;</span><span class="o">).</span><span class="na">eqJoin</span><span class="o">(</span>
   <span class="s">&quot;main_dc_collaborator&quot;</span><span class="o">,</span> <span class="n">r</span><span class="o">.</span><span class="na">table</span><span class="o">(</span><span class="s">&quot;dc&quot;</span><span class="o">)</span>
   <span class="o">).</span><span class="na">zip</span><span class="o">().</span><span class="na">run</span><span class="o">(</span><span class="n">con</span><span class="o">);</span>
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="transformations.html" class="btn btn-neutral float-right" title="Transformations"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="selecting_data.html" class="btn btn-neutral" title="Selecting Data"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Nick Verlinde.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>