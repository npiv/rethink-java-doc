

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Aggregation &mdash; rethink-java-driver 0.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="rethink-java-driver 0.1 documentation" href="index.html"/>
        <link rel="next" title="Document Manipulation" href="document_manipulation.html"/>
        <link rel="prev" title="Transformations" href="transformations.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> rethink-java-driver</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="notes.html">Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="notes.html#java-8-or-previous">Java 8 or Previous</a></li>
<li class="toctree-l2"><a class="reference internal" href="notes.html#milestones">Milestones</a></li>
<li class="toctree-l2"><a class="reference internal" href="notes.html#contribute">Contribute</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="accessing_reql.html">Accessing REQL</a><ul>
<li class="toctree-l2"><a class="reference internal" href="accessing_reql.html#r">r</a></li>
<li class="toctree-l2"><a class="reference internal" href="accessing_reql.html#connect">connect</a></li>
<li class="toctree-l2"><a class="reference internal" href="accessing_reql.html#close">close</a></li>
<li class="toctree-l2"><a class="reference internal" href="accessing_reql.html#reconnect">reconnect</a></li>
<li class="toctree-l2"><a class="reference internal" href="accessing_reql.html#use">use</a></li>
<li class="toctree-l2"><a class="reference internal" href="accessing_reql.html#run">run</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manipulating_databases.html">Manipulating Databases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manipulating_databases.html#dbcreate">dbCreate</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_databases.html#dbdrop">dbDrop</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_databases.html#dblist">dbList</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manipulating_tables.html">Manipulating Tables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manipulating_tables.html#tablecreate">tableCreate</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_tables.html#tabledrop">tableDrop</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_tables.html#tablelist">tableList</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_tables.html#indexcreate">indexCreate</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_tables.html#indexdrop">indexDrop</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_tables.html#indexlist">indexList</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_tables.html#indexstatus">indexStatus</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulating_tables.html#indexwait">indexWait</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="writing_data.html">Writing Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="writing_data.html#insert">insert</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_data.html#update">update</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_data.html#replace">replace</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_data.html#delete">delete</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_data.html#sync">sync</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="selecting_data.html">Selecting Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="selecting_data.html#db">db</a></li>
<li class="toctree-l2"><a class="reference internal" href="selecting_data.html#table">table</a></li>
<li class="toctree-l2"><a class="reference internal" href="selecting_data.html#get">get</a></li>
<li class="toctree-l2"><a class="reference internal" href="selecting_data.html#getall">getAll</a></li>
<li class="toctree-l2"><a class="reference internal" href="selecting_data.html#filter">filter</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="joins.html">Joins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="joins.html#innerjoin">innerJoin</a></li>
<li class="toctree-l2"><a class="reference internal" href="joins.html#outerjoin">outerJoin</a></li>
<li class="toctree-l2"><a class="reference internal" href="joins.html#eqjoin">eqJoin</a></li>
<li class="toctree-l2"><a class="reference internal" href="joins.html#zip">zip</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="transformations.html">Transformations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#map">map</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#withfields">withFields</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#concatmap">concatMap</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#orderby">orderBy</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#skip">Skip</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#limit">limit</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#indexesof">IndexesOf</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#isempty">isEmpty</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#union">Union</a></li>
<li class="toctree-l2"><a class="reference internal" href="transformations.html#sample">Sample</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Aggregation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#group">group</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ungroup">ungroup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reduce">reduce</a></li>
<li class="toctree-l2"><a class="reference internal" href="#count">count</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sum">sum</a></li>
<li class="toctree-l2"><a class="reference internal" href="#avg">avg</a></li>
<li class="toctree-l2"><a class="reference internal" href="#min">min</a></li>
<li class="toctree-l2"><a class="reference internal" href="#max">max</a></li>
<li class="toctree-l2"><a class="reference internal" href="#distinct">distinct</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contains">contains</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="document_manipulation.html">Document Manipulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="string_manipulation.html">String Manipulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="math_logic.html">Math And Logic</a><ul>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#add">add</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#sub">sub</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#mul">mul</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#div">div</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#mod">mod</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#and">and</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#or">or</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#eq">eq</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#ne">ne</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#gt">gt</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#ge">ge</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#lt">lt</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#le">le</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_logic.html#not">not</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dates_times.html">Dates and Times</a></li>
<li class="toctree-l1"><a class="reference internal" href="control_structures.html">Control Structures</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">rethink-java-driver</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Aggregation</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/aggregation.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="aggregation">
<h1>Aggregation<a class="headerlink" href="#aggregation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="group">
<h2>group<a class="headerlink" href="#group" title="Permalink to this headline">¶</a></h2>
<p>Takes a stream and partitions it into multiple groups based on the fields or functions provided. Commands chained after group will be called on each of these grouped sub-streams, producing grouped data.</p>
<p>Example: What is each player&#8221;s best game?</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">r</span><span class="o">.</span><span class="na">table</span><span class="o">(</span><span class="s">&quot;games&quot;</span><span class="o">).</span><span class="na">group</span><span class="o">(</span><span class="s">&quot;player&quot;</span><span class="o">).</span><span class="na">max</span><span class="o">(</span><span class="s">&quot;points&quot;</span><span class="o">).</span><span class="na">run</span><span class="o">(</span><span class="n">conn</span><span class="o">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">by default RethinkDB returns a quite unwieldy data result that looks like</p>
</div>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
<span class="nx">data</span><span class="o">=</span>
        <span class="p">[</span>
                <span class="p">[</span><span class="nx">Alice</span><span class="p">,</span> <span class="p">[{</span><span class="nx">id</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="nx">type</span><span class="o">=</span><span class="nx">free</span><span class="p">,</span> <span class="nx">points</span><span class="o">=</span><span class="mf">7.0</span><span class="p">,</span> <span class="nx">player</span><span class="o">=</span><span class="nx">Alice</span><span class="p">},</span>
                                <span class="p">{</span><span class="nx">id</span><span class="o">=</span><span class="mf">12.0</span><span class="p">,</span> <span class="nx">type</span><span class="o">=</span><span class="nx">free</span><span class="p">,</span> <span class="nx">points</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="nx">player</span><span class="o">=</span><span class="nx">Alice</span><span class="p">}]],</span>
                <span class="p">[</span><span class="nx">Bob</span><span class="p">,</span>   <span class="p">[{</span><span class="nx">id</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="nx">type</span><span class="o">=</span><span class="nx">ranked</span><span class="p">,</span> <span class="nx">points</span><span class="o">=</span><span class="mf">15.0</span><span class="p">,</span> <span class="nx">player</span><span class="o">=</span><span class="nx">Bob</span><span class="p">},</span>
                                <span class="p">{</span><span class="nx">id</span><span class="o">=</span><span class="mf">11.0</span><span class="p">,</span> <span class="nx">type</span><span class="o">=</span><span class="nx">free</span><span class="p">,</span> <span class="nx">points</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="nx">player</span><span class="o">=</span><span class="nx">Bob</span><span class="p">}]]</span>
        <span class="p">],</span>
<span class="nx">$reql_type$</span><span class="o">=</span><span class="nx">GROUPED_DATA</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you know you are expecting GROUPED DATA you can circumvent this and let the driver convert it for you by running:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">r</span><span class="o">.</span><span class="na">table</span><span class="o">(</span><span class="s">&quot;games&quot;</span><span class="o">).</span><span class="na">group</span><span class="o">(</span><span class="s">&quot;player&quot;</span><span class="o">).</span><span class="na">max</span><span class="o">(</span><span class="s">&quot;points&quot;</span><span class="o">).</span><span class="na">runForGroup</span><span class="o">(</span><span class="n">conn</span><span class="o">);</span>
</pre></div>
</div>
<p>Which would give you</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
<span class="nx">Bob</span><span class="o">=</span><span class="p">[</span>
        <span class="p">{</span><span class="nx">id</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="nx">type</span><span class="o">=</span><span class="nx">ranked</span><span class="p">,</span> <span class="nx">points</span><span class="o">=</span><span class="mf">15.0</span><span class="p">,</span> <span class="nx">player</span><span class="o">=</span><span class="nx">Bob</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">id</span><span class="o">=</span><span class="mf">11.0</span><span class="p">,</span> <span class="nx">type</span><span class="o">=</span><span class="nx">free</span><span class="p">,</span> <span class="nx">points</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="nx">player</span><span class="o">=</span><span class="nx">Bob</span><span class="p">}],</span>
<span class="nx">Alice</span><span class="o">=</span><span class="p">[</span>
        <span class="p">{</span><span class="nx">id</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="nx">type</span><span class="o">=</span><span class="nx">free</span><span class="p">,</span> <span class="nx">points</span><span class="o">=</span><span class="mf">7.0</span><span class="p">,</span> <span class="nx">player</span><span class="o">=</span><span class="nx">Alice</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">id</span><span class="o">=</span><span class="mf">12.0</span><span class="p">,</span> <span class="nx">type</span><span class="o">=</span><span class="nx">free</span><span class="p">,</span> <span class="nx">points</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="nx">player</span><span class="o">=</span><span class="nx">Alice</span><span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You can also group by a function if you are interested in more than one field:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">r</span><span class="o">.</span><span class="na">table</span><span class="o">(</span><span class="n">tableName</span><span class="o">).</span><span class="na">group</span><span class="o">(</span><span class="n">row</span><span class="o">-&gt;</span>
                <span class="k">return</span> <span class="n">row</span><span class="o">.</span><span class="na">pluck</span><span class="o">(</span><span class="n">Lists</span><span class="o">.</span><span class="na">newArrayList</span><span class="o">(</span><span class="s">&quot;player&quot;</span><span class="o">,</span><span class="s">&quot;points&quot;</span><span class="o">));</span>
<span class="o">).</span><span class="na">max</span><span class="o">(</span><span class="s">&quot;points&quot;</span><span class="o">).</span><span class="na">field</span><span class="o">(</span><span class="s">&quot;points&quot;</span><span class="o">).</span><span class="na">runForGroup</span><span class="o">(</span><span class="n">con</span><span class="o">));</span>
</pre></div>
</div>
</div>
<div class="section" id="ungroup">
<h2>ungroup<a class="headerlink" href="#ungroup" title="Permalink to this headline">¶</a></h2>
<p>Takes a grouped stream or grouped data and turns it into an array of objects representing the groups. Any commands chained after ungroup will operate on this array, rather than operating on each group individually. This is useful if you want to e.g. order the groups by the value of their reduction.</p>
<p>The format of the array returned by ungroup is the same as the default native format of grouped data in the javascript driver and data explorer.</p>
<p>Example: What is the maximum number of points scored by each player, with the highest scorers first?</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">r</span><span class="o">.</span><span class="na">table</span><span class="o">(</span><span class="s">&quot;games&quot;</span><span class="o">)</span>
<span class="o">.</span><span class="na">group</span><span class="o">(</span><span class="s">&quot;player&quot;</span><span class="o">).</span><span class="na">max</span><span class="o">(</span><span class="s">&quot;points&quot;</span><span class="o">).</span><span class="na">field</span><span class="o">(</span><span class="s">&quot;points&quot;</span><span class="o">)</span>
<span class="o">.</span><span class="na">ungroup</span><span class="o">().</span><span class="na">orderBy</span><span class="o">(</span><span class="n">r</span><span class="o">.</span><span class="na">desc</span><span class="o">(</span><span class="s">&quot;reduction&quot;</span><span class="o">)).</span><span class="na">run</span><span class="o">(</span><span class="n">conn</span><span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="reduce">
<h2>reduce<a class="headerlink" href="#reduce" title="Permalink to this headline">¶</a></h2>
<p>Produce a single value from a sequence through repeated application of a reduction function.</p>
<p>Example: Return the number of documents in the table posts.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">double</span> <span class="n">result</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="na">table</span><span class="o">(</span><span class="s">&quot;posts&quot;</span><span class="o">)</span>
        <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">post</span> <span class="o">-&gt;</span> <span class="n">r</span><span class="o">.</span><span class="na">expr</span><span class="o">(</span><span class="mi">1</span><span class="o">))</span>
        <span class="o">.</span><span class="na">reduce</span><span class="o">((</span><span class="n">l</span><span class="o">,</span><span class="n">r</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">l</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">r</span><span class="o">))</span>
        <span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">con</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="count">
<h2>count<a class="headerlink" href="#count" title="Permalink to this headline">¶</a></h2>
<p>Count the number of elements in the sequence. With a single argument, count the number of elements equal to it. If the argument is a function, it is equivalent to calling filter before count.</p>
<p>Example: Just how many super heroes are there?</p>
<div class="highlight-java"><div class="highlight"><pre><span class="o">(</span><span class="n">r</span><span class="o">.</span><span class="na">table</span><span class="o">(</span><span class="s">&quot;marvel&quot;</span><span class="o">).</span><span class="na">count</span><span class="o">().</span><span class="na">add</span><span class="o">(</span><span class="n">r</span><span class="o">.</span><span class="na">table</span><span class="o">(</span><span class="s">&quot;dc&quot;</span><span class="o">).</span><span class="na">count</span><span class="o">()).</span><span class="na">run</span><span class="o">(</span><span class="n">conn</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="sum">
<h2>sum<a class="headerlink" href="#sum" title="Permalink to this headline">¶</a></h2>
<p>Sums all the elements of a sequence. If called with a field name, sums all the values of that field in the sequence, skipping elements of the sequence that lack that field. If called with a function, calls that function on every element of the sequence and sums the results, skipping elements of the sequence where that function returns None or a non-existence error.</p>
<p>Example: What&#8221;s 3 + 5 + 7?</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">double</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="na">expr</span><span class="o">(</span><span class="n">Lists</span><span class="o">.</span><span class="na">newArrayList</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">7</span><span class="o">)).</span><span class="na">sum</span><span class="o">().</span><span class="na">run</span><span class="o">(</span><span class="n">conn</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="avg">
<h2>avg<a class="headerlink" href="#avg" title="Permalink to this headline">¶</a></h2>
<p>Averages all the elements of a sequence. If called with a field name, averages all the values of that field in the sequence, skipping elements of the sequence that lack that field. If called with a function, calls that function on every element of the sequence and averages the results, skipping elements of the sequence where that function returns None or a non-existence error.</p>
<p>Example: What&#8221;s the average of 3, 5, and 7?</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">double</span> <span class="n">avg</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="na">expr</span><span class="o">(</span><span class="n">Lists</span><span class="o">.</span><span class="na">newArrayList</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">7</span><span class="o">)).</span><span class="na">avg</span><span class="o">().</span><span class="na">run</span><span class="o">(</span><span class="n">conn</span><span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="min">
<h2>min<a class="headerlink" href="#min" title="Permalink to this headline">¶</a></h2>
<p>Finds the minimum of a sequence. If called with a field name, finds the element of that sequence with the smallest value in that field. If called with a function, calls that function on every element of the sequence and returns the element which produced the smallest value, ignoring any elements where the function returns None or produces a non-existence error.</p>
<p>Example: What&#8221;s the minimum of 3, 5, and 7?</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">double</span> <span class="n">min</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="na">expr</span><span class="o">(</span><span class="n">Lists</span><span class="o">.</span><span class="na">newArrayList</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">7</span><span class="o">)).</span><span class="na">min</span><span class="o">().</span><span class="na">run</span><span class="o">(</span><span class="n">conn</span><span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="max">
<h2>max<a class="headerlink" href="#max" title="Permalink to this headline">¶</a></h2>
<p>Finds the maximum of a sequence. If called with a field name, finds the element of that sequence with the largest value in that field. If called with a function, calls that function on every element of the sequence and returns the element which produced the largest value, ignoring any elements where the function returns None or produces a non-existence error.</p>
<p>Example: What&#8221;s the maximum of 3, 5, and 7?</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">double</span> <span class="n">max</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="na">expr</span><span class="o">(</span><span class="n">Lists</span><span class="o">.</span><span class="na">newArrayList</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">7</span><span class="o">)).</span><span class="na">max</span><span class="o">().</span><span class="na">run</span><span class="o">(</span><span class="n">conn</span><span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="distinct">
<h2>distinct<a class="headerlink" href="#distinct" title="Permalink to this headline">¶</a></h2>
<p>Remove duplicate elements from the sequence.</p>
<p>Example: Which unique villains have been vanquished by marvel heroes?</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">r</span><span class="o">.</span><span class="na">table</span><span class="o">(</span><span class="s">&quot;marvel&quot;</span><span class="o">).</span><span class="na">concat_map</span><span class="o">(</span><span class="n">hero</span> <span class="o">-&gt;</span> <span class="n">hero</span><span class="o">.</span><span class="na">field</span><span class="o">(</span><span class="s">&quot;villainList&quot;</span><span class="o">).</span><span class="na">distinct</span><span class="o">().</span><span class="na">run</span><span class="o">(</span><span class="n">conn</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="contains">
<h2>contains<a class="headerlink" href="#contains" title="Permalink to this headline">¶</a></h2>
<p>Returns whether or not a sequence contains all the specified values, or if functions are provided instead, returns whether or not a sequence contains values matching all the specified functions.</p>
<p>Example: Has Iron Man ever fought Superman?</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">r</span><span class="o">.</span><span class="na">table</span><span class="o">(</span><span class="s">&quot;marvel&quot;</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="s">&quot;ironman&quot;</span><span class="o">).</span><span class="na">field</span><span class="o">(</span><span class="s">&quot;opponents&quot;</span><span class="o">).</span><span class="na">contains</span><span class="o">(</span><span class="s">&quot;superman&quot;</span><span class="o">).</span><span class="na">run</span><span class="o">(</span><span class="n">conn</span><span class="o">);</span>
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="document_manipulation.html" class="btn btn-neutral float-right" title="Document Manipulation"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="transformations.html" class="btn btn-neutral" title="Transformations"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Nick Verlinde.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>